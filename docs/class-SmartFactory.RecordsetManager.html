<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="stylesheet" href="resources/bootstrap.min.css">
        <link rel="stylesheet" href="resources/style.css">
        <link rel="stylesheet" href="resources/jquery.iviewer.css">

        <title>
            Class: RecordsetManager
        </title>
    </head>

    <body>
        <div id="navigation">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <nav class="navbar">
                    <ul class="nav navbar-nav">
                        
                        
                        <li>
                            <a href="index.html" class="">
                                Overview
                            </a>
                        </li>
                        
                        <li>
                            <a href="classes.html" class="active">
                                Classes
                            </a>
                        </li>
                        
                        <li>
                            <a href="interfaces.html" class="">
                                Interfaces
                            </a>
                        </li>
                        
                        <li>
                            <a href="functions.html" class="">
                                Functions
                            </a>
                        </li>
                        
                        <li>
                            <a href="structure.html" class="">
                                Structure
                            </a>
                        </li>
                        

                    </ul>

                    <form id="search" class="pull-right">
                        <input type="text" name="q" class="form-control text" placeholder="Search class, function or namespace">
                    </form>
                </nav>
            </div>
        </div>
    </div>
</div>

        
        <div id="breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
            
                
                <div class="pull-left type">
                    <span class="label label-success">Class</span>
                </div>
                
                
                <ol class="breadcrumb pull-left">
                        
                        

                        <li>
                            <a href="namespace-SmartFactory.html">SmartFactory</a>
                        </li>

                        <!-- if separator -->
                        <li class="backslash">\</li>
                        <!-- endif separator -->

                        
 

                        <li class="active">RecordsetManager</li>
                </ol>
                
            </div>
        </div>
    </div>
</div>

        
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Class: RecordsetManager</h1>



<div class="definition"></div>


<div class="short-description">
<p>Class for working with record sets.</p>
</div>








<h2>Implements</h2>
<div class="item_list">

<a href='interface-SmartFactory.Interfaces.IRecordsetManager.html'>\SmartFactory\Interfaces\IRecordsetManager</a><br>

</div>





<h2>Authors</h2>
<div class="item_list">

<div class='item'>Oleg Schildt</div>

</div>






<h2>Package</h2>
<div class="item_list">
<a href='package-Database.html'>Database</a>
</div>



<h2>Source code</h2>
<div class="item_list">
<a href='source-SmartFactory.RecordsetManager.php.html#25'>SmartFactory/RecordsetManager.php</a>
</div>






<h2>Uses</h2>
<div class="item_list">

<a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>


</div>











<p>&nbsp;</p>



<table class="table table-responsive table-bordered table-striped class_multicolumn">
      <tr><th colspan="2">Properties</th></tr>
      
      <tr>
          <td>
              <div style='float:left'><a href="#$dbworker">$dbworker</a></div>

              <div style='float:right'>
              
              <span class='label label-warning'>protected</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Internal variable for storing the dbworker.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#$fields">$fields</a></div>

              <div style='float:right'>
              
              <span class='label label-warning'>protected</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Internal array for storing the target fields.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#$key_fields">$key_fields</a></div>

              <div style='float:right'>
              
              <span class='label label-warning'>protected</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Internal array for storing the key fields. These are the fields that are used
to uniquely identify a record.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#$table">$table</a></div>

              <div style='float:right'>
              
              <span class='label label-warning'>protected</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Internal variable for storing the target table name.</p>
          </td>
      </tr>
      
  </table>

<table class="table table-responsive table-bordered table-striped class_multicolumn">
      <tr><th colspan="2">Methods</th></tr>
      
      <tr>
          <td>
              <div style='float:left'><a href="#checkWhereClause">checkWhereClause()</a></div>

              <div style='float:right'>
              
              <span class='label label-warning'>protected</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>This is internal auxiliary function for converting an array to a where clause.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#commit_transaction">commit_transaction()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Commits the transation.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#countRecords">countRecords()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Counts records based on the where clause.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#countRecordsQuery">countRecordsQuery()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Counts records based on the query.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#deleteRecords">deleteRecords()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Deletes records by a given where clause.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#deleteRecordsQuery">deleteRecordsQuery()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Deletes records by a given query.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#describeTableFields">describeTableFields()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Defines the field mappings for working with record sets based on a table.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#describeTableFieldsQuery">describeTableFieldsQuery()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Defines the field mappings for working with record sets based on a query.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#escape">escape()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Escapes the string so that it can be used in the query without causing an error.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#format_date">format_date()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Formats the date to a string compatible for the corresponding database.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#format_datetime">format_datetime()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Formats the date/time to a string compatible for the corresponding database.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#getDBWorker">getDBWorker()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Returns the dbworker to be used for working with the database.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#loadRecord">loadRecord()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Loads a record into an array in the form &quot;field_name&quot; =&gt; &quot;value&quot; based on a table.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#loadRecordQuery">loadRecordQuery()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Loads a record into an array in the form &quot;field_name&quot; =&gt; &quot;value&quot;.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#loadRecordSet">loadRecordSet()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Loads records into an array in the form</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#loadRecordSetQuery">loadRecordSetQuery()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Loads records into an array in the form</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#number_or_null">number_or_null()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Checks that the value is a number and returns it, or returns the string NULL if the value is empty.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#processSubarray">processSubarray()</a></div>

              <div style='float:right'>
              
              <span class='label label-warning'>protected</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>This is internal auxiliary function for saving a record set from an array
with key field values as array dimensions.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#quotes_or_null">quotes_or_null()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Escapes the string so that it can be used in the query without causing an error or returns the sstring NULL if the string is empty.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#rollback_transaction">rollback_transaction()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Rolls back the transation.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#saveRecord">saveRecord()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Saves a record from an array in the form &quot;field_name&quot; =&gt; &quot;value&quot; into the table.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#saveRecordSet">saveRecordSet()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Saves records from an array in the form
$records[&quot;key_field1&quot;][&quot;key_field2&quot;][&quot;key_fieldN&quot;][&quot;field_name&quot;] = &quot;value&quot; into the table.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#setDBWorker">setDBWorker()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Sets the dbworker to be used for working with the database.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#start_transaction">start_transaction()</a></div>

              <div style='float:right'>
              
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Starts the transation.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#validateParameters">validateParameters()</a></div>

              <div style='float:right'>
              
              <span class='label label-warning'>protected</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>This is internal auxiliary function for checking that the recordset manager
is intialized correctly.</p>
          </td>
      </tr>
      
  </table>



<hr id="$dbworker">
  
  <h1>Property: RecordsetManager::$dbworker</h1>

  <div class="definition"><span class="php-keyword1">protected</span> \SmartFactory\DatabaseWorkers\DBWorker <span class="php-var">$dbworker</span> = <span class="php-keyword1">null</span>;</div>

  
  <div class="short-description">
  <p>Internal variable for storing the dbworker.</p>
  </div>
  

  

  
  <h2>Type</h2>
  <div class="item_list">
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>
  </div>
  

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#34'>SmartFactory/RecordsetManager.php</a>
  </div><hr id="$fields">
  
  <h1>Property: RecordsetManager::$fields</h1>

  <div class="definition"><span class="php-keyword1">protected</span> <span class="php-keyword1">array</span> <span class="php-var">$fields</span> = <span class="php-keyword1">null</span>;</div>

  
  <div class="short-description">
  <p>Internal array for storing the target fields.</p>
  </div>
  

  

  
  <h2>Type</h2>
  <div class="item_list">
  array
  </div>
  

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#52'>SmartFactory/RecordsetManager.php</a>
  </div><hr id="$key_fields">
  
  <h1>Property: RecordsetManager::$key_fields</h1>

  <div class="definition"><span class="php-keyword1">protected</span> <span class="php-keyword1">array</span> <span class="php-var">$key_fields</span> = <span class="php-keyword1">null</span>;</div>

  
  <div class="short-description">
  <p>Internal array for storing the key fields. These are the fields that are used
to uniquely identify a record.</p>
  </div>
  

  

  
  <h2>Type</h2>
  <div class="item_list">
  array
  </div>
  

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#62'>SmartFactory/RecordsetManager.php</a>
  </div><hr id="$table">
  
  <h1>Property: RecordsetManager::$table</h1>

  <div class="definition"><span class="php-keyword1">protected</span> string <span class="php-var">$table</span> = <span class="php-keyword1">null</span>;</div>

  
  <div class="short-description">
  <p>Internal variable for storing the target table name.</p>
  </div>
  

  

  
  <h2>Type</h2>
  <div class="item_list">
  string
  </div>
  

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#43'>SmartFactory/RecordsetManager.php</a>
  </div>

<hr id="checkWhereClause">
  
  <h1>Method: RecordsetManager::checkWhereClause()</h1>

  <div class="definition"><span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> checkWhereClause(string|<span class="php-keyword1">array</span> &amp;<span class="php-var">$where_clause</span>) : void;</div>

  
  <div class="short-description">
  <p>This is internal auxiliary function for converting an array to a where clause.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $where_clause
            </td>
            <td>
                by reference
            </td>
            <td>
                string|array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The where clause that should be checked. If an array of keys is passed,
the where clause is build based on it.
the where clause is build based on it.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case if a field for the clause wad not described
by the initialization.</p></div>
  
  
  </div>

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#124'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  

  

  

  

  

  

  

  <hr id="commit_transaction">
  
  <h1>Method: RecordsetManager::commit_transaction()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> commit_transaction() : void;</div>

  
  <div class="short-description">
  <p>Commits the transation.</p>
  </div>
  

  

  

  

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorkerException.html'>\SmartFactory\DatabaseWorkers\DBWorkerException</a><br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors.</p></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#commit_transaction'>\SmartFactory\Interfaces\IRecordsetManager::commit_transaction()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#872'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#start_transaction'>\SmartFactory\RecordsetManager::start_transaction()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#rollback_transaction'>\SmartFactory\RecordsetManager::rollback_transaction()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="countRecords">
  
  <h1>Method: RecordsetManager::countRecords()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> countRecords(string|<span class="php-keyword1">array</span> <span class="php-var">$where_clause</span>) : int;</div>

  
  <div class="short-description">
  <p>Counts records based on the where clause.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $where_clause
            </td>
            <td>
                by value
            </td>
            <td>
                string|array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The where clause that should restrict the result. If an array of keys is passed,
the where clause is build automatically based on it.
the where clause is build automatically based on it.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  int<br>
  
  <div class="item_description"><p>Returns the number of records.
Returns the number of records.</p></div>
  
  </div>
  

  

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#countRecords'>\SmartFactory\Interfaces\IRecordsetManager::countRecords()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#786'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#countRecordsQuery'>\SmartFactory\Interfaces\IRecordsetManager::countRecordsQuery()</a><br>
  
  
  </div>

  

  <h2>Uses</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>
  
  
  </div>

  

  

  

  

  <hr id="countRecordsQuery">
  
  <h1>Method: RecordsetManager::countRecordsQuery()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> countRecordsQuery(string <span class="php-var">$query</span>) : int;</div>

  
  <div class="short-description">
  <p>Counts records based on the query.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $query
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The query to be used.
The query to be used.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  int<br>
  
  <div class="item_description"><p>Returns the number of records.
Returns the number of records.</p></div>
  
  </div>
  

  

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#countRecordsQuery'>\SmartFactory\Interfaces\IRecordsetManager::countRecordsQuery()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#820'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#countRecords'>\SmartFactory\Interfaces\IRecordsetManager::countRecords()</a><br>
  
  
  </div>

  

  <h2>Uses</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>
  
  
  </div>

  

  

  

  

  <hr id="deleteRecords">
  
  <h1>Method: RecordsetManager::deleteRecords()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> deleteRecords(string|<span class="php-keyword1">array</span> <span class="php-var">$where_clause</span>) : void;</div>

  
  <div class="short-description">
  <p>Deletes records by a given where clause.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $where_clause
            </td>
            <td>
                by value
            </td>
            <td>
                string|array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The where clause that should restrict the result. If an array of keys is passed,
the where clause is build automatically based on it.
the where clause is build automatically based on it.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if some parameters are not of the proper type.</li>
<li>if the query fails or if some object names are invalid.</li>
</ul></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#deleteRecords'>\SmartFactory\Interfaces\IRecordsetManager::deleteRecords()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#352'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#saveRecord'>\SmartFactory\RecordsetManager::saveRecord()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#deleteRecordsQuery'>\SmartFactory\RecordsetManager::deleteRecordsQuery()</a><br>
  
  
  </div>

  

  <h2>Uses</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>
  
  
  </div>

  

  

  

  

  <hr id="deleteRecordsQuery">
  
  <h1>Method: RecordsetManager::deleteRecordsQuery()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> deleteRecordsQuery(string <span class="php-var">$query</span>) : void;</div>

  
  <div class="short-description">
  <p>Deletes records by a given query.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $query
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The query to be used.
The query to be used.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if some parameters are not of the proper type.</li>
<li>if the query fails or if some object names are invalid.</li>
</ul></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#deleteRecordsQuery'>\SmartFactory\Interfaces\IRecordsetManager::deleteRecordsQuery()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#387'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#deleteRecords'>\SmartFactory\RecordsetManager::deleteRecords()</a><br>
  
  
  </div>

  

  <h2>Uses</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>
  
  
  </div>

  

  

  

  

  <hr id="describeTableFields">
  
  <h1>Method: RecordsetManager::describeTableFields()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> describeTableFields(string <span class="php-var">$table</span>, <span class="php-keyword1">array</span> <span class="php-var">$fields</span>, <span class="php-keyword1">array</span> <span class="php-var">$key_fields</span>) : void;</div>

  
  <div class="short-description">
  <p>Defines the field mappings for working with record sets based on a table.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $table
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The name of the table.
The name of the table.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $fields
            </td>
            <td>
                by value
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The array of fields in the form &quot;field name&quot; =&gt; &quot;field type&quot;.
The array of fields in the form &quot;field name&quot; =&gt; &quot;field type&quot;.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $key_fields
            </td>
            <td>
                by value
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The array of key fields. These are the fields that are used
to uniquely identify a record.
to uniquely identify a record.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if the query fails or if some object names are invalid.</li>
</ul></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#describeTableFields'>\SmartFactory\Interfaces\IRecordsetManager::describeTableFields()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#278'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#describeTableFieldsQuery'>\SmartFactory\Interfaces\IRecordsetManager::describeTableFieldsQuery()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="describeTableFieldsQuery">
  
  <h1>Method: RecordsetManager::describeTableFieldsQuery()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> describeTableFieldsQuery(<span class="php-keyword1">array</span> <span class="php-var">$fields</span>, <span class="php-keyword1">array</span> <span class="php-var">$key_fields</span>) : void;</div>

  
  <div class="short-description">
  <p>Defines the field mappings for working with record sets based on a query.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $fields
            </td>
            <td>
                by value
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The array of fields in the form &quot;field name&quot; =&gt; &quot;field type&quot;.
The array of fields in the form &quot;field name&quot; =&gt; &quot;field type&quot;.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $key_fields
            </td>
            <td>
                by value
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The array of key fields. These are the fields that are used
to uniquely identify a record.
to uniquely identify a record.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if the query fails or if some object names are invalid.</li>
</ul></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#describeTableFieldsQuery'>\SmartFactory\Interfaces\IRecordsetManager::describeTableFieldsQuery()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#315'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#describeTableFields'>\SmartFactory\Interfaces\IRecordsetManager::describeTableFields()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="escape">
  
  <h1>Method: RecordsetManager::escape()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> escape(string <span class="php-var">$str</span>) : string;</div>

  
  <div class="short-description">
  <p>Escapes the string so that it can be used in the query without causing an error.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $str
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The string to be escaped.
The string to be escaped.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  string<br>
  
  <div class="item_description"><p>Returns the escaped string.
Returns the escaped string.</p></div>
  
  </div>
  

  

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#escape'>\SmartFactory\Interfaces\IRecordsetManager::escape()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#915'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#format_date'>\SmartFactory\RecordsetManager::format_date()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#format_datetime'>\SmartFactory\RecordsetManager::format_datetime()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#quotes_or_null'>\SmartFactory\RecordsetManager::quotes_or_null()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#number_or_null'>\SmartFactory\RecordsetManager::number_or_null()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="format_date">
  
  <h1>Method: RecordsetManager::format_date()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> format_date(int <span class="php-var">$date</span>) : string;</div>

  
  <div class="short-description">
  <p>Formats the date to a string compatible for the corresponding database.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $date
            </td>
            <td>
                by value
            </td>
            <td>
                int
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The date value as timestamp.
The date value as timestamp.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  string<br>
  
  <div class="item_description"><p>Returns the string representation of the date compatible for the corresponding database.
Returns the string representation of the date compatible for the corresponding database.</p></div>
  
  </div>
  

  

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#format_date'>\SmartFactory\Interfaces\IRecordsetManager::format_date()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#981'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#escape'>\SmartFactory\RecordsetManager::escape()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#format_datetime'>\SmartFactory\RecordsetManager::format_datetime()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#quotes_or_null'>\SmartFactory\RecordsetManager::quotes_or_null()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#number_or_null'>\SmartFactory\RecordsetManager::number_or_null()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="format_datetime">
  
  <h1>Method: RecordsetManager::format_datetime()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> format_datetime(int <span class="php-var">$datetime</span>) : string;</div>

  
  <div class="short-description">
  <p>Formats the date/time to a string compatible for the corresponding database.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $datetime
            </td>
            <td>
                by value
            </td>
            <td>
                int
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The date/time value as timestamp.
The date/time value as timestamp.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  string<br>
  
  <div class="item_description"><p>Returns the string representation of the date/time compatible for the corresponding database.
Returns the string representation of the date/time compatible for the corresponding database.</p></div>
  
  </div>
  

  

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#format_datetime'>\SmartFactory\Interfaces\IRecordsetManager::format_datetime()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#1002'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#escape'>\SmartFactory\RecordsetManager::escape()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#format_date'>\SmartFactory\RecordsetManager::format_date()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#quotes_or_null'>\SmartFactory\RecordsetManager::quotes_or_null()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#number_or_null'>\SmartFactory\RecordsetManager::number_or_null()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="getDBWorker">
  
  <h1>Method: RecordsetManager::getDBWorker()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> getDBWorker() : \SmartFactory\DatabaseWorkers\DBWorker;</div>

  
  <div class="short-description">
  <p>Returns the dbworker to be used for working with the database.</p>
  </div>
  

  

  

  

  
  <h2>Returns</h2>
  <div class="item_list">
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>
  
  <div class="item_description"><p>Returns the dbworker to be used for working with the database.
Returns the dbworker to be used for working with the database.</p></div>
  
  </div>
  

  

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#getDBWorker'>\SmartFactory\Interfaces\IRecordsetManager::getDBWorker()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#243'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#getDBWorker'>\SmartFactory\RecordsetManager::getDBWorker()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="loadRecord">
  
  <h1>Method: RecordsetManager::loadRecord()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> loadRecord(<span class="php-keyword1">array</span> &amp;<span class="php-var">$record</span>, string|<span class="php-keyword1">array</span> <span class="php-var">$where_clause</span>) : void;</div>

  
  <div class="short-description">
  <p>Loads a record into an array in the form &quot;field_name&quot; =&gt; &quot;value&quot; based on a table.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $record
            </td>
            <td>
                by reference
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The target array where the data should be loaded.
The target array where the data should be loaded.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $where_clause
            </td>
            <td>
                by value
            </td>
            <td>
                string|array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The where clause that should restrict the result to one record. If an array of keys is passed,
the where clause is build automatically based on it.
the where clause is build automatically based on it.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if some parameters are not of the proper type.</li>
<li>if the query fails or if some object names are invalid.</li>
</ul></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#loadRecord'>\SmartFactory\Interfaces\IRecordsetManager::loadRecord()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#424'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#saveRecord'>\SmartFactory\RecordsetManager::saveRecord()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#loadRecordSet'>\SmartFactory\RecordsetManager::loadRecordSet()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#loadRecordQuery'>\SmartFactory\RecordsetManager::loadRecordQuery()</a><br>
  
  
  </div>

  

  <h2>Uses</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>
  
  
  </div>

  

  

  

  

  <hr id="loadRecordQuery">
  
  <h1>Method: RecordsetManager::loadRecordQuery()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> loadRecordQuery(<span class="php-keyword1">array</span> &amp;<span class="php-var">$record</span>, string <span class="php-var">$query</span>) : void;</div>

  
  <div class="short-description">
  <p>Loads a record into an array in the form &quot;field_name&quot; =&gt; &quot;value&quot;.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $record
            </td>
            <td>
                by reference
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The target array where the data should be loaded.
The target array where the data should be loaded.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $query
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The query to be used.
The query to be used.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if some parameters are not of the proper type.</li>
<li>if the query fails or if some object names are invalid.</li>
</ul></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#loadRecordQuery'>\SmartFactory\Interfaces\IRecordsetManager::loadRecordQuery()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#467'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#loadRecord'>\SmartFactory\RecordsetManager::loadRecord()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#loadRecordSetQuery'>\SmartFactory\RecordsetManager::loadRecordSetQuery()</a><br>
  
  
  </div>

  

  <h2>Uses</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>
  
  
  </div>

  

  

  

  

  <hr id="loadRecordSet">
  
  <h1>Method: RecordsetManager::loadRecordSet()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> loadRecordSet(<span class="php-keyword1">array</span> &amp;<span class="php-var">$records</span>, 
                              string|<span class="php-keyword1">array</span> <span class="php-var">$where_clause</span>, 
                              string <span class="php-var">$order_clause</span> = <span class="php-quote">&quot;&quot;</span>, 
                              int <span class="php-var">$limit</span> = <span class="php-num">0</span>
                             ) : void;
</div>

  
  <div class="short-description">
  <p>Loads records into an array in the form</p>
  </div>
  

  
  <div class="long_description">
  <h2>Details</h2>
  <p>$records[&quot;key_field1&quot;][&quot;key_field2&quot;][&quot;key_fieldN&quot;][&quot;field_name&quot;] = &quot;value&quot;.</p>
<p>baed on a table.</p>
  </div>
  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $records
            </td>
            <td>
                by reference
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The target array where the data should be loaded.
The target array where the data should be loaded.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $where_clause
            </td>
            <td>
                by value
            </td>
            <td>
                string|array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The where clause that should restrict the result. If an array of keys is passed,
the where clause is build automatically based on it.
the where clause is build automatically based on it.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $order_clause
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                &quot;&quot;
            </td>
            <td class="description_column">
                <p>The order clause to sort the results.
The order clause to sort the results.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $limit
            </td>
            <td>
                by value
            </td>
            <td>
                int
            </td>
            <td>
                0
            </td>
            <td class="description_column">
                <p>The limit how many records shoud be loaded. 0 for unlimited.
The limit how many records shoud be loaded. 0 for unlimited.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if some parameters are not of the proper type.</li>
<li>if the query fails or if some object names are invalid.</li>
</ul></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#loadRecordSet'>\SmartFactory\Interfaces\IRecordsetManager::loadRecordSet()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#522'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#loadRecord'>\SmartFactory\RecordsetManager::loadRecord()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#saveRecordSet'>\SmartFactory\RecordsetManager::saveRecordSet()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#loadRecordSetQuery'>\SmartFactory\RecordsetManager::loadRecordSetQuery()</a><br>
  
  
  </div>

  

  <h2>Uses</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>
  
  
  </div>

  

  

  

  

  <hr id="loadRecordSetQuery">
  
  <h1>Method: RecordsetManager::loadRecordSetQuery()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> loadRecordSetQuery(<span class="php-keyword1">array</span> &amp;<span class="php-var">$records</span>, string <span class="php-var">$query</span>) : void;</div>

  
  <div class="short-description">
  <p>Loads records into an array in the form</p>
  </div>
  

  
  <div class="long_description">
  <h2>Details</h2>
  <p>$records[&quot;key_field1&quot;][&quot;key_field2&quot;][&quot;key_fieldN&quot;][&quot;field_name&quot;] = &quot;value&quot;.</p>
<p>baed on a query.</p>
  </div>
  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $records
            </td>
            <td>
                by reference
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The target array where the data should be loaded.
The target array where the data should be loaded.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $query
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The query to be used.
The query to be used.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if some parameters are not of the proper type.</li>
<li>if the query fails or if some object names are invalid.</li>
</ul></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#loadRecordSetQuery'>\SmartFactory\Interfaces\IRecordsetManager::loadRecordSetQuery()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#563'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#loadRecordSet'>\SmartFactory\RecordsetManager::loadRecordSet()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#loadRecordQuery'>\SmartFactory\RecordsetManager::loadRecordQuery()</a><br>
  
  
  </div>

  

  <h2>Uses</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>
  
  
  </div>

  

  

  

  

  <hr id="number_or_null">
  
  <h1>Method: RecordsetManager::number_or_null()</h1>

  <div class="definition"><span class="php-keyword1">function</span> number_or_null(string <span class="php-var">$str</span>) : string;</div>

  
  <div class="short-description">
  <p>Checks that the value is a number and returns it, or returns the string NULL if the value is empty.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $str
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The string to be escaped.
The string to be escaped.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  string<br>
  
  <div class="item_description"><p>Returns the escaped string.
Returns the escaped string.</p></div>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorkerException.html'>\SmartFactory\DatabaseWorkers\DBWorkerException</a><br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors.</p></div>
  
  
  </div>

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#960'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#escape'>\SmartFactory\RecordsetManager::escape()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#format_date'>\SmartFactory\RecordsetManager::format_date()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#format_datetime'>\SmartFactory\RecordsetManager::format_datetime()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#quotes_or_null'>\SmartFactory\RecordsetManager::quotes_or_null()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="processSubarray">
  
  <h1>Method: RecordsetManager::processSubarray()</h1>

  <div class="definition"><span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> processSubarray(<span class="php-keyword1">array</span> &amp;<span class="php-var">$subarray</span>, 
                                   <span class="php-keyword1">array</span> <span class="php-var">$key_fields</span>, 
                                   <span class="php-keyword1">array</span> &amp;<span class="php-var">$parent_values</span>, 
                                   <span class="php-keyword1">array</span> &amp;<span class="php-var">$record</span>, 
                                   string <span class="php-var">$identity_field</span>
                                  ) : void;
</div>

  
  <div class="short-description">
  <p>This is internal auxiliary function for saving a record set from an array
with key field values as array dimensions.</p>
  </div>
  

  
  <div class="long_description">
  <h2>Details</h2>
  <p>It expand this multidimensional
array into the set of flat records suitable for call <a href='class-SmartFactory.RecordsetManager.html#saveRecord'>\SmartFactory\RecordsetManager::saveRecord()</a>.</p>
  </div>
  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $subarray
            </td>
            <td>
                by reference
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The current subarray ro be processed.
The current subarray ro be processed.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $key_fields
            </td>
            <td>
                by value
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The array of the key fields. These are the fields that are used
to uniquely identify a record.
to uniquely identify a record.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $parent_values
            </td>
            <td>
                by reference
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The array of the values of the foreign keys
in the form &quot;field_name&quot; =&gt; &quot;value&quot;.
in the form &quot;field_name&quot; =&gt; &quot;value&quot;.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $record
            </td>
            <td>
                by reference
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The array where the resulting flat record is built.
The array where the resulting flat record is built.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $identity_field
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The name of the identity field if exists. If the identity field is specified
and the record does not exist yet in the table, the source array is extended
with a pair &quot;identity field&quot; =&gt; &quot;identity value&quot; issued by the database by this
insert operation.
insert operation.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if some parameters are not of the proper type.</li>
<li>if the query fails or if some object names are invalid.</li>
</ul></div>
  
  
  </div>

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#185'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  

  

  

  

  

  

  

  <hr id="quotes_or_null">
  
  <h1>Method: RecordsetManager::quotes_or_null()</h1>

  <div class="definition"><span class="php-keyword1">function</span> quotes_or_null(string <span class="php-var">$str</span>) : string;</div>

  
  <div class="short-description">
  <p>Escapes the string so that it can be used in the query without causing an error or returns the sstring NULL if the string is empty.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $str
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The string to be escaped.
The string to be escaped.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  string<br>
  
  <div class="item_description"><p>Returns the escaped string.
Returns the escaped string.</p></div>
  
  </div>
  

  

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#936'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#escape'>\SmartFactory\RecordsetManager::escape()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#format_date'>\SmartFactory\RecordsetManager::format_date()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#format_datetime'>\SmartFactory\RecordsetManager::format_datetime()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#number_or_null'>\SmartFactory\RecordsetManager::number_or_null()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="rollback_transaction">
  
  <h1>Method: RecordsetManager::rollback_transaction()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> rollback_transaction() : void;</div>

  
  <div class="short-description">
  <p>Rolls back the transation.</p>
  </div>
  

  

  

  

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorkerException.html'>\SmartFactory\DatabaseWorkers\DBWorkerException</a><br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors.</p></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#rollback_transaction'>\SmartFactory\Interfaces\IRecordsetManager::rollback_transaction()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#892'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#start_transaction'>\SmartFactory\RecordsetManager::start_transaction()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#commit_transaction'>\SmartFactory\RecordsetManager::commit_transaction()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="saveRecord">
  
  <h1>Method: RecordsetManager::saveRecord()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> saveRecord(<span class="php-keyword1">array</span> &amp;<span class="php-var">$record</span>, string|<span class="php-keyword1">array</span> <span class="php-var">$where_clause</span>, string <span class="php-var">$identity_field</span> = <span class="php-quote">&quot;&quot;</span>) : void;</div>

  
  <div class="short-description">
  <p>Saves a record from an array in the form &quot;field_name&quot; =&gt; &quot;value&quot; into the table.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $record
            </td>
            <td>
                by reference
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The source array with the data to be saved.
The source array with the data to be saved.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $where_clause
            </td>
            <td>
                by value
            </td>
            <td>
                string|array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The where clause that should be used to define whether a record should be inserted or updated. If an array of keys is passed,
the where clause is build automatically based on it.
the where clause is build automatically based on it.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $identity_field
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                &quot;&quot;
            </td>
            <td class="description_column">
                <p>The name of the identity field if exists. If the identity field is specified
and the record does not exist yet in the table, the source array is extended
with a pair &quot;identity field&quot; =&gt; &quot;identity value&quot; issued by the database by this
insert operation.
insert operation.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if some parameters are not of the proper type.</li>
<li>if the query fails or if some object names are invalid.</li>
</ul></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#saveRecord'>\SmartFactory\Interfaces\IRecordsetManager::saveRecord()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#639'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#loadRecord'>\SmartFactory\RecordsetManager::loadRecord()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#saveRecordSet'>\SmartFactory\RecordsetManager::saveRecordSet()</a><br>
  
  
  </div>

  

  <h2>Uses</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>
  
  
  </div>

  

  

  

  

  <hr id="saveRecordSet">
  
  <h1>Method: RecordsetManager::saveRecordSet()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> saveRecordSet(<span class="php-keyword1">array</span> &amp;<span class="php-var">$records</span>, <span class="php-keyword1">array</span> <span class="php-var">$parent_values</span> = [], string <span class="php-var">$identity_field</span> = <span class="php-quote">&quot;&quot;</span>) : void;</div>

  
  <div class="short-description">
  <p>Saves records from an array in the form
$records[&quot;key_field1&quot;][&quot;key_field2&quot;][&quot;key_fieldN&quot;][&quot;field_name&quot;] = &quot;value&quot; into the table.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $records
            </td>
            <td>
                by reference
            </td>
            <td>
                array
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The source array with the data to be saved.
The source array with the data to be saved.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $parent_values
            </td>
            <td>
                by value
            </td>
            <td>
                array
            </td>
            <td>
                []
            </td>
            <td class="description_column">
                <p>If this recordset is a child subset of data to be saved, you can set the values of the foreign keys
in the form &quot;field_name&quot; =&gt; &quot;value&quot;.
in the form &quot;field_name&quot; =&gt; &quot;value&quot;.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $identity_field
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                &quot;&quot;
            </td>
            <td class="description_column">
                <p>The name of the identity field if exists. If the identity field is specified
and the record does not exist yet in the table, the source array is extended
with a pair &quot;identity field&quot; =&gt; &quot;identity value&quot; issued by the database by this
insert operation.
insert operation.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if some parameters are not of the proper type.</li>
<li>if the query fails or if some object names are invalid.</li>
</ul></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#saveRecordSet'>\SmartFactory\Interfaces\IRecordsetManager::saveRecordSet()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#748'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#loadRecordSet'>\SmartFactory\RecordsetManager::loadRecordSet()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#saveRecord'>\SmartFactory\RecordsetManager::saveRecord()</a><br>
  
  
  </div>

  

  <h2>Uses</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a><br>
  
  
  </div>

  

  

  

  

  <hr id="setDBWorker">
  
  <h1>Method: RecordsetManager::setDBWorker()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> setDBWorker(\SmartFactory\DatabaseWorkers\DBWorker <span class="php-var">$dbworker</span>) : void;</div>

  
  <div class="short-description">
  <p>Sets the dbworker to be used for working with the database.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $dbworker
            </td>
            <td>
                by value
            </td>
            <td>
                <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The dbworker to be used for working with the database.
The dbworker to be used for working with the database.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#setDBWorker'>\SmartFactory\Interfaces\IRecordsetManager::setDBWorker()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#228'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#getDBWorker'>\SmartFactory\RecordsetManager::getDBWorker()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="start_transaction">
  
  <h1>Method: RecordsetManager::start_transaction()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> start_transaction() : void;</div>

  
  <div class="short-description">
  <p>Starts the transation.</p>
  </div>
  

  

  

  

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.DatabaseWorkers.DBWorkerException.html'>\SmartFactory\DatabaseWorkers\DBWorkerException</a><br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors.</p></div>
  
  
  </div>

  
  <h2>Overrides</h2>
  <div class="item_list">
  <a href='interface-SmartFactory.Interfaces.IRecordsetManager.html#start_transaction'>\SmartFactory\Interfaces\IRecordsetManager::start_transaction()</a>
  </div>
  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#852'>SmartFactory/RecordsetManager.php</a>
  </div>
  

  <h2>See also</h2>
  <div class="item_list">
  
  <a href='class-SmartFactory.RecordsetManager.html#commit_transaction'>\SmartFactory\RecordsetManager::commit_transaction()</a><br>
  
  
  <a href='class-SmartFactory.RecordsetManager.html#rollback_transaction'>\SmartFactory\RecordsetManager::rollback_transaction()</a><br>
  
  
  </div>

  

  

  

  

  

  

  <hr id="validateParameters">
  
  <h1>Method: RecordsetManager::validateParameters()</h1>

  <div class="definition"><span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> validateParameters(string <span class="php-var">$type</span>) : void;</div>

  
  <div class="short-description">
  <p>This is internal auxiliary function for checking that the recordset manager
is intialized correctly.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $type
            </td>
            <td>
                by value
            </td>
            <td>
                string
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The type of validation - table or query.
The type of validation - table or query.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw an exception in the case of any errors:</p>
<ul>
<li>if some parameters are missing.</li>
<li>if dbworker does not extend <a href='class-SmartFactory.DatabaseWorkers.DBWorker.html'>\SmartFactory\DatabaseWorkers\DBWorker</a>.</li>
<li>if some parameters are not of the proper type.</li>
</ul></div>
  
  
  </div>

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.RecordsetManager.php.html#82'>SmartFactory/RecordsetManager.php</a>
  </div>
                    
                    <div id="footer">
                        Generated on 2025-03-26 06:57 with <a href="https://github.com/oschildt/PhpDoxy" target="_blank">PhpDoxy</a>
                    </div>                    
                </div>
            </div>
        </div>

        <script src="resources/jquery-3.2.1.min.js"></script>
        <script src="resources/jquery-ui-1.12.1.min.js"></script>

        <script src="elementlist.js"></script>
        <script src="resources/main.js"></script>
        
        <script src="resources/jquery.iviewer.js" type="text/javascript"></script>
        <script src="resources/jquery.mousewheel.js" type="text/javascript"></script>
        
    </body>
</html>


