<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="stylesheet" href="resources/bootstrap.min.css">
        <link rel="stylesheet" href="resources/style.css">
        <link rel="stylesheet" href="resources/jquery.iviewer.css">

        <title>
            Class: FactoryBuilder - Library SmartFactory
        </title>
    </head>

    <body>
        <div id="navigation">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <nav class="navbar">
                    <ul class="nav navbar-nav">
                        
                        
                        <li>
                            <a href="index.html" class="">
                                Overview
                            </a>
                        </li>
                        
                        <li>
                            <a href="classes.html" class="active">
                                Classes
                            </a>
                        </li>
                        
                        <li>
                            <a href="interfaces.html" class="">
                                Interfaces
                            </a>
                        </li>
                        
                        <li>
                            <a href="functions.html" class="">
                                Functions
                            </a>
                        </li>
                        
                        <li>
                            <a href="diagram.html" class="">
                                Diagram
                            </a>
                        </li>
                        
                        <li>
                            <a href="structure.html" class="">
                                Structure
                            </a>
                        </li>
                        

                    </ul>

                    <form id="search" class="pull-right">
                        <input type="text" name="q" class="form-control text" placeholder="Search class, function or namespace">
                    </form>
                </nav>
            </div>
        </div>
    </div>
</div>

        
        <div id="breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
            
                
                <div class="pull-left type">
                    <span class="label label-success">Class</span>
                </div>
                
                
                <ol class="breadcrumb pull-left">
                        
                        

                        <li>
                            <a href="namespace-SmartFactory.html">SmartFactory</a>
                        </li>

                        <!-- if separator -->
                        <li class="backslash">\</li>
                        <!-- endif separator -->

                        
 

                        <li class="active">FactoryBuilder</li>
                </ol>
                
            </div>
        </div>
    </div>
</div>

        
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Class: FactoryBuilder</h1>




<div class="short-description">
Class for creation of the objects.
</div>



<div class="long-description">
<h2>Details</h2>
<p>The class FactoryBuilder is an auxiliary class that empowers the factory methods. It provides the methods
for binding class implementations to the interfaces.</p>
</div>









<h2>Author</h2>
Oleg Schildt



<h2>Package</h2>
<a href="package-Factory.html">Factory</a>


<h2>Source code</h2>
<a href="source-SmartFactory.FactoryBuilder.html#18">SmartFactory\FactoryBuilder.php</a>







<p>&nbsp;</p>




  <table class="table table-responsive table-bordered table-striped class_multicolumn">
      <tr><th colspan="2">Properties</th></tr>
      
      
      <tr>
          <td>
              <a href="#$itable">$itable</a>
          </td>
          <td class="description_column">
              Internal array for storing the mapping betwen interfaces/classes and the bound classes.
          </td>
      </tr>
      
      <tr>
          <td>
              <a href="#$singletons">$singletons</a>
          </td>
          <td class="description_column">
              Internal array for storing the singleton instances for re-using.
          </td>
      </tr>
      
      
  </table>



  <table class="table table-responsive table-bordered table-striped class_multicolumn">
      <tr><th colspan="2">Methods</th></tr>
      
      
      <tr>
          <td>
              <a href="#bindClass">bindClass</a>
          </td>
          <td class="description_column">
              Binds a class to an interface or a parent class.
          </td>
      </tr>
      
      <tr>
          <td>
              <a href="#getInstance">getInstance</a>
          </td>
          <td class="description_column">
              Сreates an object that support the interface $interface_or_class.
          </td>
      </tr>
      
      
  </table>





  
  <hr id="$itable">
  
  <h1>Property: $itable</h1>

  <div class="definition"><span class="php-keyword1">protected</span> <span class="php-keyword1">static</span> <b>$itable</b> = <span class="php-keyword1">array</span>()</div>

  <span class="type_label">Type:</span> array
  
  
  <div class="short-description">
  Internal array for storing the mapping betwen interfaces/classes and the bound classes.
  </div>
  

  

  
  
  
  
  
  <h2>Author</h2>
  Oleg Schildt
  

  <h2>Source code</h2>
  <a href="source-SmartFactory.FactoryBuilder.html#36">SmartFactory\FactoryBuilder.php</a>

  

  

  
  
  <hr id="$singletons">
  
  <h1>Property: $singletons</h1>

  <div class="definition"><span class="php-keyword1">protected</span> <span class="php-keyword1">static</span> <b>$singletons</b> = <span class="php-keyword1">array</span>()</div>

  <span class="type_label">Type:</span> array
  
  
  <div class="short-description">
  Internal array for storing the singleton instances for re-using.
  </div>
  

  

  
  
  
  
  
  <h2>Author</h2>
  Oleg Schildt
  

  <h2>Source code</h2>
  <a href="source-SmartFactory.FactoryBuilder.html#27">SmartFactory\FactoryBuilder.php</a>

  

  

  
  



  
  <hr id="bindClass">
  
  <h1>Method: bindClass</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <b>bindClass</b>(string|object &amp;<span class="php-var">$interface_or_class</span>,
                        string|object &amp;<span class="php-var">$class</span>,
                        <span class="php-keyword1">callable</span> &amp;<span class="php-var">$init_function</span> = <span class="php-keyword1">null</span>
                       ) : void</div>

  
  <div class="short-description">
  Binds a class to an interface or a parent class.
  </div>
  

  
  <div class="long-description">
  <h2>Details</h2>
  <p>The key point of this approach is the definition common interfaces
and implementation of them in classes. When an object that supoorts an
interface is requested, an instance of the corresponding bound class
is created. When you want to change the class, you need just bind
the new class to the interface.</p>
<p>You can also bind a class to itself and reqest it by own name in factory
method. And later, you can implement a derived class and change the binding
without affecting the code in the business logic.</p>
  </div>
  

  
  <h2>Parameters</h2>
  
      <h3>$interface_or_class</h3>
      <span class="type_label">Type:</span> string|object
      
      <div class="param-description">
      <p>Name of the class/interface as string or the class/interface.</p>
      </div>
      
  
      <h3>$class</h3>
      <span class="type_label">Type:</span> string|object
      
      <div class="param-description">
      <p>The class which instance should be created if the object is requested.</p>
      </div>
      
  
      <h3>$init_function</h3>
      <span class="type_label">Type:</span> callable
      
      <div class="param-description">
      <p>The optional initialization function. You can provide it to do some
custom intialization. The signature of
this function is:</p>
<pre><code class="language-php"><span class="php-keyword1">function</span> (object <span class="php-var">$instance</span>) : void;</code></pre>
<ul>
<li>$instance - the created instance.</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">FactoryBuilder::bindClass(ILanguageManager::<span class="php-keyword1">class</span>, LanguageManager::<span class="php-keyword1">class</span>, <span class="php-keyword1">function</span>(<span class="php-var">$instance</span>) {
  <span class="php-var">$instance</span>-&gt;detectLanguage();
});

FactoryBuilder::bindClass(IRecordsetManager::<span class="php-keyword1">class</span>, RecordsetManager::<span class="php-keyword1">class</span>, <span class="php-keyword1">function</span>(<span class="php-var">$instance</span>) {
  <span class="php-var">$instance</span>-&gt;setDBWorker(dbworker());
});</code></pre>
      </div>
      
  
  

  
  <h2>Returns</h2>
  <span class="type_label">Type:</span> void
  
  

  
  <h2>Throws</h2>
  <div class="item_list">
  
      <b>\Exception</b><br>
      
      
      <ul>
<li>If the interface or class is not specified.</li>
<li>If the interface or class does not exist.</li>
<li>If the bound class is empty.</li>
<li>If the bound class does not implement the corresponding interface.</li>
<li>If the bound class is not instantiable.</li>
<li>If the iterface or class is already boud.</li>
</ul><br>
      
  
  </div>
  

  
  
  
  
  
  
  
  <h2>Author</h2>
  Oleg Schildt
  

  <h2>Source code</h2>
  <a href="source-SmartFactory.FactoryBuilder.html#92">SmartFactory\FactoryBuilder.php</a>

  

  

  
  
  
  <hr id="getInstance">
  
  <h1>Method: getInstance</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <b>getInstance</b>(string|object &amp;<span class="php-var">$interface_or_class</span>, boolean &amp;<span class="php-var">$singleton</span>) : object</div>

  
  <div class="short-description">
  Сreates an object that support the interface $interface_or_class.
  </div>
  

  

  
  <h2>Parameters</h2>
  
      <h3>$interface_or_class</h3>
      <span class="type_label">Type:</span> string|object
      
      <div class="param-description">
      <p>Name of the class/interface which instance should be created.</p>
      </div>
      
  
      <h3>$singleton</h3>
      <span class="type_label">Type:</span> boolean
      
      <div class="param-description">
      <p>If the parameter is true, it ensures that only one instance of this object exists.
The singleton is a usual patter for the action objects like SessionManager, EventManager,
DBWorker etc. It makes no sense to produce many instances of such classes,
it wastes the computer resources and might cause errors.</p>
<p>If the parameter is false, then, by each request, a new object is created. If you request
data objects like User, a separate instance must be created for each item.</p>
      </div>
      
  
  

  
  <h2>Returns</h2>
  <span class="type_label">Type:</span> object
  
  <div class="param-description">
  <p>Returns object of the class bound to the interface.</p>
  </div>
  
  

  
  <h2>Throws</h2>
  <div class="item_list">
  
      <b>\Exception</b><br>
      
      
      <ul>
<li>If the interface or class is not specified.</li>
<li>If the interface or class does not exist.</li>
<li>If the interface or class has no bound class.</li>
</ul><br>
      
  
  </div>
  

  
  
  
  
  
  
  
  <h2>Author</h2>
  Oleg Schildt
  

  <h2>Source code</h2>
  <a href="source-SmartFactory.FactoryBuilder.html#150">SmartFactory\FactoryBuilder.php</a>

  

  

  
  <h2>Used by</h2>
  <div class="item_list">
  
  <a href="function-SmartFactory.instance.html">\SmartFactory\instance()</a><br>
  
  <a href="function-SmartFactory.singleton.html">\SmartFactory\singleton()</a><br>
  
  </div>
  
  
  



                    
                    <div id="footer">
                        Generated on 2018-11-15 10:27
                    </div>                    
                </div>
            </div>
        </div>

        <script src="resources/jquery-3.2.1.min.js"></script>
        <script src="resources/jquery-ui-1.12.1.min.js"></script>

        <script src="elementlist.js"></script>
        <script src="resources/main.js"></script>
        
        <script src="resources/jquery.iviewer.js" type="text/javascript"></script>
        <script src="resources/jquery.mousewheel.js" type="text/javascript"></script>
        
        <script type="text/javascript">
            $(window).resize(function(){
                $("#viewer").height(1400);
            });

            $(document).ready(function() {
                $("#viewer").iviewer({src: 'resources/classes.svg', zoom_animation: false});
                $('#viewer img').bind('dragstart', function(event){
                    event.preventDefault();
                });
                $(window).resize();
            });
        </script>
        
    </body>
</html>


