<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="stylesheet" href="resources/bootstrap.min.css">
        <link rel="stylesheet" href="resources/style.css">
        <link rel="stylesheet" href="resources/jquery.iviewer.css">

        <title>
            Class: ObjectFactory
        </title>
    </head>

    <body>
        <div id="navigation">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <nav class="navbar">
                    <ul class="nav navbar-nav">
                        
                        
                        <li>
                            <a href="index.html" class="">
                                Overview
                            </a>
                        </li>
                        
                        <li>
                            <a href="classes.html" class="active">
                                Classes
                            </a>
                        </li>
                        
                        <li>
                            <a href="interfaces.html" class="">
                                Interfaces
                            </a>
                        </li>
                        
                        <li>
                            <a href="functions.html" class="">
                                Functions
                            </a>
                        </li>
                        
                        <li>
                            <a href="structure.html" class="">
                                Structure
                            </a>
                        </li>
                        

                    </ul>

                    <form id="search" class="pull-right">
                        <input type="text" name="q" class="form-control text" placeholder="Search class, function or namespace">
                    </form>
                </nav>
            </div>
        </div>
    </div>
</div>

        
        <div id="breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
            
                
                <div class="pull-left type">
                    <span class="label label-success">Class</span>
                </div>
                
                
                <ol class="breadcrumb pull-left">
                        
                        

                        <li>
                            <a href="namespace-SmartFactory.html">SmartFactory</a>
                        </li>

                        <!-- if separator -->
                        <li class="backslash">\</li>
                        <!-- endif separator -->

                        
 

                        <li class="active">ObjectFactory</li>
                </ol>
                
            </div>
        </div>
    </div>
</div>

        
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Class: ObjectFactory</h1>



<div class="definition"></div>


<div class="short-description">
<p>Class for creation of the objects.</p>
</div>



<div class="long_description">
<h2>Details</h2>
<p>The class ObjectFactory is an auxiliary class that empowers the factory methods. It provides the methods
for binding of class implementations to the interfaces and for creation of objects for the requested interface.</p>
</div>












<h2>Authors</h2>
<div class="item_list">

<div class='item'>Oleg Schildt</div>

</div>






<h2>Package</h2>
<div class="item_list">
<a href='package-Factory.html'>Factory</a>
</div>



<h2>Source code</h2>
<div class="item_list">
<a href='source-SmartFactory.ObjectFactory.php.html#21'>SmartFactory/ObjectFactory.php</a>
</div>


















<p>&nbsp;</p>



<table class="table table-responsive table-bordered table-striped class_multicolumn">
      <tr><th colspan="2">Properties</th></tr>
      
      <tr>
          <td>
              <div style='float:left'><a href="#$itable">$itable</a></div>

              <div style='float:right'>
              <span class="label label-primary">static</span>
              <span class='label label-warning'>protected</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Internal array for storing the mapping betwen interfaces/classes and the bound classes.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#$singletons">$singletons</a></div>

              <div style='float:right'>
              <span class="label label-primary">static</span>
              <span class='label label-warning'>protected</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Internal array for storing the singleton instances for re-using.</p>
          </td>
      </tr>
      
  </table>

<table class="table table-responsive table-bordered table-striped class_multicolumn">
      <tr><th colspan="2">Methods</th></tr>
      
      <tr>
          <td>
              <div style='float:left'><a href="#bindClass">bindClass()</a></div>

              <div style='float:right'>
              <span class="label label-primary">static</span>
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Binds a class to an interface or a parent class.</p>
          </td>
      </tr><tr>
          <td>
              <div style='float:left'><a href="#getInstance">getInstance()</a></div>

              <div style='float:right'>
              <span class="label label-primary">static</span>
              <span class='label label-success'>public</span>
              </div>
              <div style="clear:both"></div>
          </td>
          <td class="description_column">
              <p>Сreates an object that support the interface $interface_or_class.</p>
          </td>
      </tr>
      
  </table>



<hr id="$itable">
  
  <h1>Property: ObjectFactory::$itable</h1>

  <div class="definition"><span class="php-keyword1">protected</span> <span class="php-keyword1">static</span> <span class="php-keyword1">array</span> <span class="php-var">$itable</span> = [];</div>

  
  <div class="short-description">
  <p>Internal array for storing the mapping betwen interfaces/classes and the bound classes.</p>
  </div>
  

  

  
  <h2>Type</h2>
  <div class="item_list">
  array
  </div>
  

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.ObjectFactory.php.html#39'>SmartFactory/ObjectFactory.php</a>
  </div><hr id="$singletons">
  
  <h1>Property: ObjectFactory::$singletons</h1>

  <div class="definition"><span class="php-keyword1">protected</span> <span class="php-keyword1">static</span> <span class="php-keyword1">array</span> <span class="php-var">$singletons</span> = [];</div>

  
  <div class="short-description">
  <p>Internal array for storing the singleton instances for re-using.</p>
  </div>
  

  

  
  <h2>Type</h2>
  <div class="item_list">
  array
  </div>
  

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.ObjectFactory.php.html#30'>SmartFactory/ObjectFactory.php</a>
  </div>

<hr id="bindClass">
  
  <h1>Method: ObjectFactory::bindClass()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> bindClass(string|object <span class="php-var">$interface_or_class</span>, 
                                 string|object <span class="php-var">$class</span>, 
                                 <span class="php-keyword1">callable</span> <span class="php-var">$init_function</span> = <span class="php-keyword1">null</span>
                                ) : void;
</div>

  
  <div class="short-description">
  <p>Binds a class to an interface or a parent class.</p>
  </div>
  

  
  <div class="long_description">
  <h2>Details</h2>
  <p>The key point of this approach is the definition common interfaces
and implementation of them in classes. When an object that supoorts an
interface is requested, an instance of the corresponding bound class
is created. When you want to change the class, you need just bind
the new class to the interface.</p>
<p>You can also bind a class to itself and reqest it by own name in factory
method. And later, you can implement a derived class and change the binding
without affecting the code in the business logic.</p>
  </div>
  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $interface_or_class
            </td>
            <td>
                by value
            </td>
            <td>
                string|object
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>Name of the class/interface as string or the class/interface.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $class
            </td>
            <td>
                by value
            </td>
            <td>
                string|object
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>The class which instance should be created if the object is requested.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $init_function
            </td>
            <td>
                by value
            </td>
            <td>
                callable
            </td>
            <td>
                null
            </td>
            <td class="description_column">
                <p>The optional initialization function. You can provide it to do some
custom intialization. The signature of
this function is:</p>
<pre><code class="language-php"><span class="php-keyword1">function</span> (object <span class="php-var">$instance</span>) : void;</code></pre>
<ul>
<li>$instance - the created instance.</li>
</ul>
<p>Example:</p>
<pre><code class="language-php">ObjectFactory::bindClass(ILanguageManager::<span class="php-keyword1">class</span>, LanguageManager::<span class="php-keyword1">class</span>, <span class="php-keyword1">function</span>(<span class="php-var">$instance</span>) {
  <span class="php-var">$instance</span>-&gt;detectLanguage();
});

ObjectFactory::bindClass(IRecordsetManager::<span class="php-keyword1">class</span>, RecordsetManager::<span class="php-keyword1">class</span>, <span class="php-keyword1">function</span>(<span class="php-var">$instance</span>) {
  <span class="php-var">$instance</span>-&gt;setDBWorker(dbworker());
});</code></pre>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  void<br>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw the following exceptions in the case of any errors:</p>
<ul>
<li>if the interface or bound class is not specified.</li>
<li>if the interface or class does not exist.</li>
<li>if the bound class is empty.</li>
<li>if the bound class does not implement the corresponding interface.</li>
<li>if the bound class is not instantiable.</li>
<li>if the check of the classes and interfaces fails.</li>
</ul></div>
  
  
  </div>

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.ObjectFactory.php.html#97'>SmartFactory/ObjectFactory.php</a>
  </div>
  

  

  

  

  

  

  

  

  <hr id="getInstance">
  
  <h1>Method: ObjectFactory::getInstance()</h1>

  <div class="definition"><span class="php-keyword1">public</span> <span class="php-keyword1">static</span> <span class="php-keyword1">function</span> getInstance(string|object <span class="php-var">$interface_or_class</span>, bool <span class="php-var">$singleton</span>) : object;</div>

  
  <div class="short-description">
  <p>Сreates an object that support the interface $interface_or_class.</p>
  </div>
  

  

  

  <h2>Parameters</h2>

    <table class="table table-responsive table-bordered table-striped param_multicolumn">
        <tr>
        <th>Name</th>
        <th>Pass type</th>
        <th>Value type</th>
        <th>Default value</th>
        <th>Description</th>
        </tr>
        
        
        <tr>
            <td>
                $interface_or_class
            </td>
            <td>
                by value
            </td>
            <td>
                string|object
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>Name of the class/interface which instance should be created.</p>
            </td>
        </tr>
        
        <tr>
            <td>
                $singleton
            </td>
            <td>
                by value
            </td>
            <td>
                bool
            </td>
            <td>
                
            </td>
            <td class="description_column">
                <p>If the parameter is true, it ensures that only one instance of this object exists.
The singleton is a usual patter for the action objects like SessionManager, EventManager,
DBWorker etc. It makes no sense to produce many instances of such classes,
it wastes the computer resources and might cause errors.</p>
<p>If the parameter is false, then, by each request, a new object is created. If you request
data objects like User, a separate instance must be created for each item.</p>
            </td>
        </tr>
        
        
    </table>

  
  <h2>Returns</h2>
  <div class="item_list">
  object<br>
  
  <div class="item_description"><p>Returns object of the class bound to the interface.</p></div>
  
  </div>
  

  <h2>Throws</h2>
  <div class="item_list">
  
  \Exception<br>
  
  <div class="item_description"><p>It might throw the following exceptions in the case of any errors:</p>
<ul>
<li>if the interface or class is not specified.</li>
<li>if the interface or class does not exist.</li>
<li>if the check of the classes and interfaces fails.</li>
</ul></div>
  
  
  </div>

  

  <h2>Authors</h2>
  <div class="item_list">
  
  <div class='item'>Oleg Schildt</div>
  
  </div>

  

  

  
  <h2>Source code</h2>
  <div class="item_list">
  <a href='source-SmartFactory.ObjectFactory.php.html#170'>SmartFactory/ObjectFactory.php</a>
  </div>
                    
                    <div id="footer">
                        Generated on 2022-05-28 19:42 with <a href="https://github.com/oschildt/PhpDoxy" target="_blank">PhpDoxy</a>
                    </div>                    
                </div>
            </div>
        </div>

        <script src="resources/jquery-3.2.1.min.js"></script>
        <script src="resources/jquery-ui-1.12.1.min.js"></script>

        <script src="elementlist.js"></script>
        <script src="resources/main.js"></script>
        
        <script src="resources/jquery.iviewer.js" type="text/javascript"></script>
        <script src="resources/jquery.mousewheel.js" type="text/javascript"></script>
        
    </body>
</html>


